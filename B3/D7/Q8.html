<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Product List</title>
</head>
<body>
  <h2>Product List</h2>
  <div id="error" style="color: red;"></div>

  <script>
    async function fetchProducts() {
      const url = 'https://fakestoreapi.com/products';
      try {
        const res = await fetch(url);
        if (!res.ok) throw new Error('Response not OK');
        const products = await res.json();

        products.forEach(product => {
          console.log(`Title: ${product.title}`);
          console.log(`Price: $${product.price}`);
          console.log(`Image: ${product.image}`);
          console.log('View Details');
          console.log('------------------');
        });

        const total = products.reduce((sum, p) => sum + p.price, 0);
        console.log(`Total Price of All Products: $${total.toFixed(2)}`);

      } catch (error) {
        document.getElementById('error').textContent = 
          "Failed to fetch products. Please try again later.";
        console.error("Error fetching products:", error);
      }
    }

    fetchProducts();
  </script>
</body>
</html>
